<% include ../fragments/header.ejs %>
	<div class="container main-content">
		<h1>User Accounts</h1>
		<table class="table table-striped">
			<thead>
				<tr>
				  <th scope="col">Username</th>
				  <th scope="col">Email Address</th>
				  <th scope="col">Country</th>
				  <th scope="col">Region</th>
				  <th scope="col">Edit</th>
				  <th scope="col">Delete</th>
				</tr>
			</thead>
			<tbody>
				<% users.forEach(function(account){ %>
					<tr>
						<th scope="row"><%= account.username %></th>
						<td><%= account.email %></td>
						<td><%= account.country %></td>
						<td><%= account.region %></td>
						<td><button type="button" class="btn btn-secondary" onclick="edit('<%= account.username %>')">Edit</button></td>
						<td><button type="button" class="btn btn-secondary" onclick="deleteUser('<%= account.username %>')">Delete</button></td>
					</tr>
				<% }); %>
			</tbody>
		</table>
	</div>
	
	<script>
			
	function saveDevice() {
	}
	
	function edit(id) {
		// Clear
		// If modal, re-populate fields
	}

	function deleteUser(username) {
		var answer = confirm("Are you sure you want to delete this device?");
		if(answer) {
			// Dlete the user account
		}
	}

	var users = {};
	<%- JSON.stringify(users) %>.forEach(function(user){
		users[user.username] = user;
	});
	</script>
<% include ../fragments/footer.ejs %>